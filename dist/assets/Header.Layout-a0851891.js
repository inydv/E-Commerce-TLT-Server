import{r as s,u as I,a as y,_ as M,T as S,R as o,j as e,E as f,b as m,L as b}from"./index-8d768b91.js";import{r as i}from"./index-842e6c53.js";import{H as L}from"./HiMenuAlt2-da8a8e8c.js";import{L as k}from"./Authentication.Service-671a5b28.js";import{S as B}from"./index-bcf39c2d.js";import{S as G,a as H,B as E}from"./SpeedDial-370c6ee6.js";import{B as A}from"./Backdrop-af6cae68.js";import"./useTheme-289a1de6.js";import"./useSlotProps-72e48a7e.js";import"./useIsFocusVisible-be98e349.js";import"./useId-29285ea3.js";var D=i.GenIcon,U=function(t){return D({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}}]})(t)},N=i.GenIcon,R=function(t){return N({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"}}]})(t)},_=i.GenIcon,$=function(t){return _({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"ellipse",attr:{transform:"rotate(-1.057 159.995 423.97) scale(.99997)",cx:"160",cy:"424",rx:"24",ry:"24"}},{tag:"ellipse",attr:{transform:"matrix(.02382 -.9997 .9997 .02382 -48.51 798.282)",cx:"384.5",cy:"424",rx:"24",ry:"24"}},{tag:"path",attr:{d:"M463.8 132.2c-.7-2.4-2.8-4-5.2-4.2L132.9 96.5c-2.8-.3-6.2-2.1-7.5-4.7-3.8-7.1-6.2-11.1-12.2-18.6-7.7-9.4-22.2-9.1-48.8-9.3-9-.1-16.3 5.2-16.3 14.1 0 8.7 6.9 14.1 15.6 14.1s21.3.5 26 1.9c4.7 1.4 8.5 9.1 9.9 15.8 0 .1 0 .2.1.3.2 1.2 2 10.2 2 10.3l40 211.6c2.4 14.5 7.3 26.5 14.5 35.7 8.4 10.8 19.5 16.2 32.9 16.2h236.6c7.6 0 14.1-5.8 14.4-13.4.4-8-6-14.6-14-14.6H188.9c-2 0-4.9 0-8.3-2.8-3.5-3-8.3-9.9-11.5-26l-4.3-23.7c0-.3.1-.5.4-.6l277.7-47c2.6-.4 4.6-2.5 4.9-5.2l16-115.8c.2-.8.2-1.7 0-2.6z"}}]})(t)},j=i.GenIcon,F=function(t){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M215.469 332.802l29.863 29.864L352 256 245.332 149.333l-29.863 29.865 55.469 55.469H64v42.666h205.864l-54.395 55.469zM405.334 64H106.666C83.198 64 64 83.198 64 106.666V192h42.666v-85.333h298.668v298.668H106.666V320H64v85.334C64 428.802 83.198 448 106.666 448h298.668C428.802 448 448 428.802 448 405.334V106.666C448 83.198 428.802 64 405.334 64z"}}]})(t)},O=i.GenIcon,P=function(t){return O({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M454.65 169.4A31.82 31.82 0 00432 160h-64v-16a112 112 0 00-224 0v16H80a32 32 0 00-32 32v216c0 39 33 72 72 72h272a72.22 72.22 0 0050.48-20.55 69.48 69.48 0 0021.52-50.2V192a31.75 31.75 0 00-9.35-22.6zM176 144a80 80 0 01160 0v16H176z"}}]})(t)},V=i.GenIcon,T=function(t){return V({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"}}]})(t)};const p=[{to:o.home,name:"Home"},{to:o.shop+"?category=men",name:"Men"},{to:o.shop+"?category-women",name:"Women"}],x=()=>e("ul",{className:"justify-self-center inline-flex flex-col sm:flex-row gap-5 text-lg",children:s.Children.toArray(p==null?void 0:p.map(({to:r,name:t})=>e("li",{className:"border-b-2 border-b-customGray p-2 pb-5 sm:p-0 sm:border-none",children:e(b,{to:r,children:t})})))});function oe(){const[r,t]=s.useState(0),[h,C]=s.useState(!1),[z,l]=s.useState(!1),n=I(),{user:c,setUser:g}=y(),w=()=>{C(!h)},v=s.useCallback(async()=>{const{data:a}=await k();a&&a.SUCCESS&&(g(null),M.success(a==null?void 0:a.MESSAGE,S.success),n(o.Authentication))},[n,g]),d=s.useMemo(()=>[{icon:e(F,{size:20}),name:c?"Logout":"Login",func:c?()=>v():()=>n(o.Authentication)}],[v,n,c]);return s.useEffect(()=>{c&&(d.unshift({icon:e(P,{size:20}),name:"My Orders",func:()=>{n(o.myOrders),l(!1)}}),d.unshift({icon:e(T,{size:20}),name:"Profile",func:()=>{n(o.myAccount),l(!1)}}),(c.role===f.UserRole.Admin||c.role===f.UserRole.Seller)&&d.unshift({icon:e(R,{size:20}),name:"Dashboard",func:()=>{c.role===f.UserRole.Admin?n(o.dashboard):n(o.adminProduct),l(!1)}}))},[n,d,c]),s.useEffect(()=>{const a=()=>{const u=JSON.parse(localStorage.getItem("cart"));t(u==null?void 0:u.length)};return window.addEventListener("storage",()=>{a()}),a(),()=>window.removeEventListener("storage",a())},[]),m("header",{className:"bg-black page-padding sticky top-0 left-0 z-40",children:[m("div",{className:"flex justify-between h-full items-center",children:[e(L,{color:"white",size:25,className:"block sm:hidden",onClick:()=>l(!0)}),m("h1",{className:"font-semibold text-4xl w-fit line-through text-center",children:["T",e("span",{className:"text-red-600",children:"L"}),"T"]}),e("div",{className:"hidden sm:block",children:e(x,{})}),m("div",{className:"flex justify-end gap-2 sm:gap-5 relative top-0 items-end",children:[e(G,{ariaLabel:"SpeedDial tooltip example",FabProps:{style:{backgroundColor:"black",zIndex:"10"}},icon:e(U,{color:"white",size:25}),onClick:()=>w(),direction:"down",open:h,children:s.Children.toArray(d.map(a=>e(H,{FabProps:{style:{backgroundColor:"black",zIndex:"10"}},icon:a.icon,tooltipTitle:a.name,onClick:a.func})))}),e(E,{badgeContent:r,color:"error",children:e(b,{to:o.cart,"aria-label":"cart",children:e($,{color:"white",size:25})})})]})]}),e(A,{open:h}),e(B,{isDrawerOpen:z,setIsDrawerOpen:l,content:e(x,{})})]})}export{oe as default};
