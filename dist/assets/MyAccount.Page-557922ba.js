import{r as m,ab as k,j as l,F as C,a,bN as S,bO as P,bP as T,_ as E,T as I}from"./index-90f43bfb.js";const N=[{tagType:"input",label:"Username",type:"text",className:"w-full xl:max-w-[300px] rounded-sm py-2 px-4 outline-none text-black text-sm sm:text-base mt-1 xl:mt-0",placeholder:"Lokesh Yadav",name:"username"},{tagType:"input",label:"Phone",type:"number",className:"w-full xl:max-w-[300px] rounded-sm py-2 px-4 outline-none text-black text-sm sm:text-base mt-1 xl:mt-0",placeholder:"1234567890",name:"phone"},{tagType:"radio",label:"Gender",options:[{label:"Male",name:"gender"},{label:"Female",name:"gender"},{label:"Others",name:"gender"}]},{tagType:"password",options:[{placeholder:"Current Password",name:"currentPassword"},{placeholder:"New Password",name:"password"},{placeholder:"Confirm Password",name:"confirmPassword"}]}];function U({handleSubmit:i,handleInput:d,handleImage:x,avatarPreview:p,formData:c}){var r;const[b,s]=m.useState(!0),u=m.useRef(),{user:o}=k(),g=()=>{u.current.click()};return l(C,{children:[a("div",{className:"max-w-[1000px] mx-auto",children:l("div",{className:"flex xl:items-center justify-between flex-col md:flex-row xl:-translate-y-10",children:[l("div",{className:"flex items-center gap-5",children:[l("div",{className:"relative",children:[a("img",{src:p||((r=o==null?void 0:o.avatar)==null?void 0:r.url)||"/src/Assets/user-icon.png",alt:"User Image",className:"rounded-full h-[80px] xl:h-[150px] w-[80px] xl:w-[150px] border-2 border-white mr-5",onError:({currentTarget:e})=>{e.onerror=null,e.src="/src/Assets/NoImageAvailable.jpg"}}),a("input",{type:"file",className:"hidden",name:"avatar",accept:"image/*",onChange:e=>x(e),ref:u}),a(S,{className:"absolute right-2 bottom-0 sm:right-5 bg-white rounded-full p-1 xl:p-2 edit-icon cursor-pointer text-2xl xl:text-4xl border-2 border-black",onClick:()=>g()})]}),l("div",{children:[a("h1",{className:"font-semibold text-2xl xl:text-4xl",children:"Profile"}),a("p",{className:"text-base sm:text-lg mt-1",children:"Update your photo and personal details."})]})]}),a("div",{className:"mt-4 xl:mt-0 flex justify-end md:block",children:a("button",{type:"submit",className:"primary-button",onClick:e=>i(e),children:"SUBMIT"})})]})}),a("div",{className:"max-w-[650px] mx-auto mt-5",children:m.Children.toArray(N==null?void 0:N.map(({tagType:e,options:t,className:f,name:h,placeholder:F,label:y,type:A})=>e===P.FormTagType.Input?l("div",{className:"xl:grid xl:grid-cols-2 mb-5",children:[a("label",{className:"font-semibold text-base sm:text-xl",children:y}),a("input",{type:A,className:f,placeholder:F,required:!0,name:h,onChange:n=>d(n),value:c[h]||""})]}):e===P.FormTagType.Radio?l("div",{className:"xl:grid xl:grid-cols-2 my-5 sm:my-10 items-center",children:[a("label",{className:"font-semibold text-base sm:text-xl",children:y}),a("div",{children:m.Children.toArray(t==null?void 0:t.map(({label:n,name:v})=>l(C,{children:[a("input",{type:"radio",className:"mr-2",id:n,name:v,value:n,onChange:w=>d(w),checked:(c==null?void 0:c.gender)===n}),a("label",{htmlFor:n,className:"mr-5 text-base",children:n})]})))})]}):l("div",{className:"xl:grid xl:grid-cols-2",children:[l("div",{className:"mb-5",children:[a("h6",{className:"font-semibold text-base sm:text-xl",children:"Change Password"}),l("p",{className:"text-xs ml-5 mt-1 xl:mt-2 font-semibold",children:["**",l("span",{className:"text-red-700 cursor-pointer",onClick:()=>s(!1),children:["Click Me"," "]}),"To Change Password **"]})]}),a("div",{className:"flex flex-col",children:m.Children.toArray(t==null?void 0:t.map(({placeholder:n,name:v})=>a("input",{type:"password",className:"w-full xl:max-w-[300px] rounded-sm py-2 px-4 outline-none text-black text-sm sm:text-base mb-2 sm:mb-5 xl:mt-0",placeholder:n,disabled:b,name:v,onChange:w=>d(w)})))})]})))})]})}function M(){const[i,d]=m.useState({}),[x,p]=m.useState(),[c,b]=m.useState(),{user:s}=k(),u=r=>{d(e=>({...e,[r.target.name]:r.target.value}))},o=r=>{const e=new FileReader;e.onload=()=>{e.readyState===2&&(b(e.result),p(e.result))},e.readAsDataURL(r.target.files[0])},g=async r=>{r.preventDefault();const e=new FormData;for(const[f,h]of Object.entries(i))e.set(f,h);x&&e.set("avatar",x);const{data:t}=await T(e);t&&t.SUCCESS&&(E.success(t==null?void 0:t.MESSAGE,I.success),d({}))};return m.useEffect(()=>{window.scrollTo(0,0),d(r=>({...r,username:s==null?void 0:s.username,phone:s==null?void 0:s.phone,gender:(s==null?void 0:s.gender)||"Male"}))},[s]),a("div",{className:"p-5 sm:px-10",children:l("div",{className:"max-w-[1400px] mx-auto",children:[a("div",{className:"hidden xl:block xl:h-[150px] bg-gradient-to-r from-[#060606] to-[#030303] rounded-tl-full rounded-br-full blur-sm brightness-150"}),a(U,{handleSubmit:g,handleInput:u,handleImage:o,avatarPreview:c,formData:i})]})})}export{M as default};
