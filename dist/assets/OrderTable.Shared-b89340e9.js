import{r as o,b as l,j as s,L as k,R as z}from"./index-59e93b5a.js";import{N as P}from"./index-3758a81c.js";import{D as C}from"./Date.Pipe-a7fb7a4a.js";import{b as U,I as $}from"./index-f77c90b4.js";import{R as A}from"./RSConversion.Pipe-ac2552a8.js";import{M as q,F as m}from"./index-04e641ac.js";import{A as B,M as G,F as H,V as J}from"./EditForm.Constant-bd6503a6.js";import"./index-88dbd3cf.js";function u({header:h,orders:e,isAdmin:M=!1,setId:O,handleSubmit:j,formData:L,setFormData:R,isApiSuccessfull:d,setIsApiSuccessfull:c}){const[V,i]=o.useState(!1),[r,f]=o.useState({viewData:null,displayName:"",openForEdit:!1});return o.useEffect(()=>{d&&(i(!1),c(!1))},[d,c]),l("table",{className:"table-width",children:[s("thead",{children:s("tr",{children:o.Children.toArray(h==null?void 0:h.map(a=>s("th",{className:"td-border p-2",children:a})))})}),s("tbody",{children:(e==null?void 0:e.length)>0?o.Children.toArray(e==null?void 0:e.map(a=>{var p,N,b,g,t,I,y,D;return l("tr",{children:[s("td",{className:"td-border p-2",children:o.Children.toArray((p=a==null?void 0:a.orderItems)==null?void 0:p.map(({quantity:v,product:n},_)=>{var x,E,F;return l("div",{className:`grid gap-5 grid-flow-col ${_!==((x=a==null?void 0:a.orderItems)==null?void 0:x.length)-1&&"mb-4"}`,children:[s(U.LazyLoadImage,{src:((E=n==null?void 0:n.images)==null?void 0:E.length)>0&&((F=n==null?void 0:n.images[0])==null?void 0:F.url),alt:n==null?void 0:n.name,className:"h-14 w-14 aspect-square",effect:"blur",onError:({currentTarget:w})=>{w.onerror=null,w.src=$.NoImageAvailable}}),l("div",{children:[s("h1",{className:"line-clamp mb-1",children:s(k,{to:z.productDetails+"/"+(n==null?void 0:n._id),children:n==null?void 0:n.name})}),l("h1",{children:[A(n==null?void 0:n.price)," x ",v," ="," ",A((n==null?void 0:n.price)*v)]})]})]})}))}),s("td",{className:"td-border p-2",children:l("p",{className:"text-center",children:["Name: ",(N=a==null?void 0:a.shippingInformation)==null?void 0:N.name," ",s("br",{}),"Phone: ",(b=a==null?void 0:a.shippingInformation)==null?void 0:b.phone," ",s("br",{}),"Email: ",(g=a==null?void 0:a.shippingInformation)==null?void 0:g.email]})}),s("td",{className:"td-border p-2",children:s("p",{className:"text-center",children:((t=a==null?void 0:a.shippingInformation)==null?void 0:t.address)+", "+((I=a==null?void 0:a.shippingInformation)==null?void 0:I.city)+", "+((y=a==null?void 0:a.shippingInformation)==null?void 0:y.state)+", "+((D=a==null?void 0:a.shippingInformation)==null?void 0:D.pincode)})}),s("td",{className:"td-border p-2",children:s("p",{className:"text-center",children:a==null?void 0:a.status})}),s("td",{className:"td-border p-2",children:l("p",{className:"text-center",children:["Created At: ",C(a==null?void 0:a.createdAt)," ",s("br",{}),"Delivery At: ",C(a==null?void 0:a.deliveredAt)]})}),M&&s("td",{className:"td-border p-2",children:l("div",{className:"flex gap-5 justify-center items-center",children:[s(B,{size:20,className:"cursor-pointer",onClick:()=>{f({displayName:"View Order",openForEdit:!1,viewData:a}),i(!0)}}),s(G,{size:20,className:"cursor-pointer",onClick:()=>{f({displayName:"Edit Order",openForEdit:!0,viewData:a}),O(a==null?void 0:a._id),i(!0)}})]})})]})})):s("tr",{children:s("td",{colSpan:"100%",className:"td-border px-5 py-10",children:s(P,{})})})}),s(q,{open:V,setOpen:i,title:r==null?void 0:r.displayName,content:r!=null&&r.openForEdit?s(m,{submitForm:j,form:H.order,formData:L,setFormData:R}):s(m,{formData:r==null?void 0:r.viewData,form:J.order,ViewForm:!0})})]})}export{u as default};
