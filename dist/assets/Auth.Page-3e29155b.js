import{r as u,ab as R,bT as v,ac as P,a as t,j as m,b$ as C,c0 as M,c1 as F,c2 as W,bL as I,bO as o,c3 as O,_ as x,T as g,c4 as U,bM as s,c5 as G,c6 as D,bY as H,F as j}from"./index-addfd89c.js";function b({tab:i,form:r,className:p,type:l,isLinkShow:d,navigateRoute:c,navigateTag:h}){const[a,w]=u.useState({}),{setUser:y}=R(),f=v(),{token:E}=P(),N=n=>{w(e=>({...e,[n.target.name]:n.target.value}))},A=async n=>{if(n.preventDefault(),l===o.AuthenticationType.Register){const{data:e}=await O(a);e&&e.SUCCESS&&(x.success(e==null?void 0:e.MESSAGE,g.success),w({}))}else if(l===o.AuthenticationType.Login){const{data:e}=await U(a);e&&e.SUCCESS&&(x.success(e==null?void 0:e.MESSAGE,g.success),y(e.DATA),f(s.home))}else if(l===o.AuthenticationType.Forgot){const{data:e}=await G(a);e&&e.SUCCESS&&(x.success(e==null?void 0:e.MESSAGE,g.success),f(s.Authentication))}else{const{data:e}=await D(a,E);e&&e.SUCCESS&&(x.success(e==null?void 0:e.MESSAGE,g.success),f(s.Authentication))}};return t("form",{className:`transition-all duration-200 ease-linear grid place-items-center h-[80%] ${p}`,ref:i,onSubmit:n=>A(n),children:m("ul",{children:[u.Children.toArray(r==null?void 0:r.map(({icon:n,type:e,className:L,placeholder:T,name:S})=>m("li",{className:"flex items-center justify-between mb-2",children:[n==="HiUser"?t(C,{size:25}):n==="HiPhone"?t(M,{size:25}):n==="MdEmail"?t(F,{size:25}):n==="IoMdLock"?t(W,{size:25}):"",t("input",{type:e,className:L,placeholder:T,required:!0,name:S,value:a[S]||"",onChange:k=>N(k)})]}))),d&&t("div",{className:"text-end my-5",children:t(I,{className:"hover:text-red-600 transition-all duration-200 ease-linear",to:c,children:h})}),t("button",{type:"submit",className:"primary-button float-right",children:l})]})})}const z=[{icon:"HiUser",type:"text",className:"w-[80%] ml-5 rounded-sm py-1 px-4 outline-none text-black text-base",placeholder:"Lokesh Yadav",name:"username"},{icon:"HiPhone",type:"number",className:"w-[80%] ml-5 rounded-sm py-1 px-4 outline-none text-black text-base",placeholder:"1234567890",name:"phone"},{icon:"MdEmail",type:"email",className:"w-[80%] ml-5 rounded-sm py-1 px-4 outline-none text-black text-base",placeholder:"lokesh@gmail.com",name:"email"},{icon:"IoMdLock",type:"password",className:"w-[80%] ml-5 rounded-sm py-1 px-4 outline-none text-black text-base",placeholder:"password",name:"password"}],$=[{icon:"MdEmail",type:"email",className:"w-[80%] ml-5 rounded-sm py-1 px-4 outline-none text-black text-base",placeholder:"lokesh@gmail.com",name:"email"},{icon:"IoMdLock",type:"password",className:"w-[80%] ml-5 rounded-sm py-1 px-4 outline-none text-black text-base",placeholder:"password",name:"password"}],Y=[{icon:"IoMdLock",type:"password",className:"w-[80%] ml-5 rounded-sm py-1 px-4 outline-none text-black text-base",placeholder:"password",name:"password"},{icon:"IoMdLock",type:"password",className:"w-[80%] ml-5 rounded-sm py-1 px-4 outline-none text-black text-base",placeholder:"confirm password",name:"confirmPassword"}],_=[{icon:"MdEmail",type:"email",className:"w-[80%] ml-5 rounded-sm py-1 px-4 outline-none text-black text-base",placeholder:"lokesh@gmail.com",name:"email"}];function B(){const[i,r]=u.useState(),p=H(),l=u.useRef(null),d=u.useRef(null),c=u.useRef(null),h=a=>{a===o.AuthenticationType.Login&&(c.current.classList.add("translate-x-0"),c.current.classList.remove("translate-x-full"),d.current.classList.remove("!translate-x-0"),l.current.classList.remove("-translate-x-full")),a===o.AuthenticationType.Register&&(c.current.classList.add("translate-x-full"),c.current.classList.remove("translate-x-0"),d.current.classList.add("!translate-x-0"),l.current.classList.add("-translate-x-full"))};return u.useEffect(()=>{window.scrollTo(0,70);const a=p.pathname;a.includes(s.resetPW)?r(s.resetPW):a.includes(s.forgotPW)?r(s.forgotPW):r(s.Authentication)},[p]),t("div",{className:"bg-[url('../dist/assets/auth.jpg')] h-screen bg-no-repeat bg-cover bg-center grid place-items-center",children:m("div",{className:"bg-black p-2 overflow-hidden box-border w-[350px] h-[400px]",children:[m("div",{className:"pt-3",children:[m("div",{className:"flex",children:[t("p",{className:"cursor-pointer hover:text-red-600 transition-all duration-200 ease-linear w-full grid place-items-center text-lg font-medium",onClick:()=>h(o.AuthenticationType.Login),children:i===s.forgotPW?"FORGOT PASSWORD":i===s.resetPW?"RESET PASSWORD":"LOGIN"}),i===s.Authentication&&t("p",{className:"cursor-pointer hover:text-red-600 transition-all duration-200 ease-linear w-full grid place-items-center text-lg font-medium",onClick:()=>h(o.AuthenticationType.Register),children:"REGISTER"})]}),t("button",{className:`bg-button h-[3px] ${i===s.Authentication?"w-[50%]":"w-full"}  border-none transition-all duration-200 ease-linear`,ref:c})]}),i===s.resetPW?t(b,{form:Y,type:"Reset"}):i===s.forgotPW?t(b,{form:_,type:o.AuthenticationType.Forgot,isLinkShow:!0,navigateRoute:s.Authentication,navigateTag:"Back To Login?"}):m(j,{children:[t(b,{tab:l,form:$,type:o.AuthenticationType.Login,isLinkShow:!0,navigateRoute:s.forgotPW,navigateTag:"Forgot Password?"}),t(b,{tab:d,form:z,className:"-translate-y-full translate-x-full",type:o.AuthenticationType.Register})]})]})})}export{B as default};
