import{r as g,b as x,j as l,E as v}from"./index-71041327.js";import{b as T,I as q}from"./index-dcef02ab.js";import{D as P}from"./Date.Pipe-a7fb7a4a.js";import{R as k}from"./RSConversion.Pipe-ac2552a8.js";const L=g.memo(({legend:p,children_prop:c,formData:u,handleInput:a})=>x("fieldset",{className:"flex justify-between",children:[l("legend",{className:"text-lg font-semibold",children:p}),g.Children.toArray(c==null?void 0:c.map(({type:s,className:n,placeholder:t,autoFocus:i,name:r,label:e,required:o})=>x("div",{className:"w-[45%]",children:[l("input",{type:s,className:n,placeholder:t,autoFocus:i||!1,required:o||!0,name:r,value:u[r]||"",onChange:m=>a(m)}),l("div",{className:"text-base",children:e})]})))]})),B=g.memo(({containerClass:p,labelClass:c,label:u,className:a,placeholder:s,required:n,autoFocus:t,rows:i,name:r,formData:e,handleInput:o})=>x("div",{className:p,children:[l("label",{className:c,children:u}),l("textarea",{className:a,placeholder:s,required:n||!1,autoFocus:t||!1,rows:i,name:r,value:e[r]||"",onChange:m=>o(m)})]})),U=g.memo(({containerClass:p,labelClass:c,label:u,name:a,formData:s,className:n,handleInput:t,options:i})=>x("div",{className:p,children:[l("label",{className:c,children:u}),x("select",{name:a,value:s[a]||"",className:n,onChange:r=>t(r),children:[l("option",{hidden:!0,value:"",children:"Select"}),g.Children.toArray(i==null?void 0:i.map(({name:r,value:e})=>l("option",{value:e,children:r})))]})]})),z=g.memo(({containerClass:p,labelClass:c,label:u,imageInput:a,type:s,name:n,multiple:t,handleImage:i,isView:r,onImageSelectButtonClicked:e,formData:o})=>{var m;return x("div",{className:p,children:[l("label",{className:c,children:u}),l("input",{ref:a,type:s,name:n,multiple:t,accept:"image/*",className:"hidden",onChange:d=>i(d)}),x("div",{className:"flex gap-2 overflow-x-scroll max-w-[300px] w-full items-center pb-2",children:[!r&&l("button",{className:"aspect-square h-16 w-16 border border-gray text-3xl",onClick:d=>e(d),children:"+"}),g.Children.toArray(o&&((m=o[n])==null?void 0:m.map(d=>l("span",{className:"aspect-square h-16 w-16 border border-gray",children:l(T.LazyLoadImage,{src:(d==null?void 0:d.url)||d,alt:"Product Image",className:"w-full h-full",effect:"blur",onError:({currentTarget:h})=>{h.onerror=null,h.src=q.NoImageAvailable}})}))))]})]})}),V=g.memo(({containerClass:p,labelClass:c,label:u,isView:a,formData:s,textType:n,name:t,name2:i,type:r,className:e,placeholder:o,required:m,autoFocus:d,handleInput:h})=>x("div",{className:p,children:[l("label",{className:c,children:u}),a?s&&(n===v.View.Date?P(s[t]):n===v.View.Price?k(s[t]):i?s[t][i]:s[t]):l("input",{type:r,className:e,placeholder:o,required:m||!1,autoFocus:d||!1,name:t,value:s[t]||"",onChange:N=>h(N)})]}));function O({submitForm:p,setFormData:c,form:u,formData:a,ViewForm:s=!1}){const n=g.useRef(null),t=e=>{e.preventDefault(),n.current.click()},i=async e=>{const o=Array.from(e.target.files),m=[],d=o.map(h=>new Promise(N=>{const f=new FileReader;f.onload=()=>{f.readyState===2&&(m.push(f.result),N())},f.readAsDataURL(h)}));await Promise.all(d),c(h=>({...h,[e.target.name]:m}))},r=e=>{c(o=>({...o,[e.target.name]:e.target.value}))};return x("form",{onSubmit:e=>p(e),className:"max-w-[800px] min-w-[250px] sm:min-w-[300px]",children:[g.Children.toArray(u==null?void 0:u.map(({isView:e,isFieldset:o,legend:m,children:d,tagType:h,type:N,className:f,placeholder:F,name:b,name2:C,label:w,rows:M,required:S,autoFocus:A,options:j,multiple:E,labelClass:y,containerClass:I,textType:R})=>o?l(L,{legend:m,children_prop:d,formData:a,handleInput:r}):h===v.FormTagType.TextArea?l(B,{containerClass:I,labelClass:y,label:w,className:f,placeholder:F,required:S,autoFocus:A,rows:M,name:b,formData:a,handleInput:r}):h===v.FormTagType.Select?l(U,{containerClass:I,labelClass:y,label:w,name:b,formData:a,className:f,handleInput:r,options:j}):h===v.FormTagType.File?l(z,{containerClass:I,labelClass:y,label:w,imageInput:n,type:N,name:b,multiple:E,handleImage:i,isView:e,onImageSelectButtonClicked:t,formData:a}):l(V,{containerClass:I,labelClass:y,label:w,isView:e,formData:a,textType:R,name:b,name2:C,type:N,className:f,placeholder:F,required:S,autoFocus:A,handleInput:r}))),!s&&l("div",{className:"flex justify-end",children:l("button",{className:"primary-button",type:"submit",children:"SUBMIT"})})]})}export{O as default};
