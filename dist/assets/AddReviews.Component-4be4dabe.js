import{r as i,a as x,i as h,b as g,j as t,_ as b,T as f}from"./index-e8f8ca07.js";import{A as w}from"./Products.Service-e0c49f4f.js";import{b as I,I as v}from"./index-0f10cee1.js";import{R as E}from"./Rating-09d3d0b4.js";import"./useTheme-6490d9af.js";import"./visuallyHidden-14c3de6e.js";import"./useId-46fa010e.js";import"./useIsFocusVisible-f1176228.js";function L({fetchProductDetail:l}){var m;const[c,s]=i.useState(!1),[a,o]=i.useState({rating:2.5,comment:""}),{user:r}=x(),{productId:d}=h(),n=e=>{o(p=>({...p,[e.target.name]:e.target.value}))},u=async()=>{const{data:e}=await w(d,a);e&&e.SUCCESS&&(b.success(e==null?void 0:e.MESSAGE,f.success),o({rating:2.5,comment:""}),s(!1),l())};return c?g("article",{className:"flex flex-col items-center td-border rounded-xl p-5",children:[t(I.LazyLoadImage,{src:((m=r==null?void 0:r.avatar)==null?void 0:m.url)||v.userIcon,alt:"User Image",className:"rounded-full h-16 md:h-28 w-16 md:w-28 mx-auto",effect:"blur",onError:({currentTarget:e})=>{e.onerror=null,e.src=NoImageAvailable}}),t("p",{className:"py-2"}),t(E,{value:+(a==null?void 0:a.rating),precision:.5,max:5,name:"rating",onChange:e=>n(e)}),t("textarea",{className:"mt-3 w-[200px] md:w-[300px] outline-none rounded-sm p-2 md:p-3 text-sm md:text-base h-auto bg-black td-border",rows:3,placeholder:"Write Your Review Here With length 100 To 200...",minLength:100,maxLength:200,required:!0,name:"comment",onChange:e=>n(e)}),t("button",{className:"mt-3 primary-button",onClick:()=>u(),children:"Review"})]}):t("article",{className:"flex td-border rounded-xl p-2 md:p-5",children:t("div",{className:"w-[200px] md:w-[300px] h-full grid place-items-center",children:t("button",{className:"primary-button",onClick:()=>s(!0),children:"Review"})})})}export{L as default};
