import{r,a as b,j as c,b as w,U as x,_ as E,T}from"./index-3aafef44.js";import{M as y}from"./index-7352e71c.js";function U(){const[g,u]=r.useState(!0),[i,o]=r.useState({}),[d,p]=r.useState(null),[h,A]=r.useState(null),{user:s}=b(),v=a=>{o(t=>({...t,[a.target.name]:a.target.value}))},D=a=>{const t=new FileReader;t.onload=()=>{t.readyState===2&&(A(t.result),p(t.result))},t.readAsDataURL(a.target.files[0])},S=async a=>{a.preventDefault();const t=new FormData;for(const[l,n]of Object.entries(i))t.set(l,n);d&&t.set("avatar",d);const{data:e}=await x(t);e&&e.SUCCESS&&(E.success(e==null?void 0:e.MESSAGE,T.success),u(!0),o(l=>{var n,m,f;return{...l,username:(n=e==null?void 0:e.DATA)==null?void 0:n.username,phone:(m=e==null?void 0:e.DATA)==null?void 0:m.phone,gender:((f=e==null?void 0:e.DATA)==null?void 0:f.gender)||""}}))};return r.useEffect(()=>{window.scrollTo(0,0),o(a=>({...a,username:s==null?void 0:s.username,phone:s==null?void 0:s.phone,gender:(s==null?void 0:s.gender)||""}))},[s]),c("section",{className:"page-padding",children:w("div",{className:"page-width",children:[c("div",{className:"hidden xl:block xl:h-[150px] bg-gradient-to-r from-[#060606] to-[#030303] rounded-tl-full rounded-br-full blur-sm brightness-150"}),c(y,{handleSubmit:S,handleInput:v,handleImage:D,avatarPreview:h,formData:i,isDisabled:g,setIsDisabled:u})]})})}export{U as default};
