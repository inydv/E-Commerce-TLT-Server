import{r as m,c as j,j as e,b as E,E as b}from"./index-11d7ad4e.js";import{F as M,V as _,A as z,M as T}from"./EditForm.Constant-df883a16.js";import{A as V}from"./AiFillDelete-d34daf41.js";import{M as g,F as D}from"./index-350fcf2f.js";import{N as L}from"./index-32645c26.js";import{b as O,I as k}from"./index-5ea4ecf9.js";import"./index-b5749ebb.js";const B=({item:n,key:o})=>{var t,s,l;return e("td",{className:"td-border p-2",children:e("div",{className:"grid place-content-center",children:e(O.LazyLoadImage,{src:((t=n[o])==null?void 0:t.url)||(((s=n[o])==null?void 0:s.length)>0?(l=n[o][0])==null?void 0:l.url:""),alt:"Image",className:"h-10 w-10",effect:"blur",onError:({currentTarget:i})=>{i.onerror=null,i.src=k.NoImageAvailable}})})})},U=({isViewEnabled:n,isEditEnabled:o,isDeleteEnabled:t,handleInput:s,setId:l,setFormData:i})=>e("td",{className:"td-border p-2",children:E("div",{className:"flex gap-5 justify-center items-center",children:[n&&e(z,{size:20,className:"cursor-pointer",onClick:()=>{s({displayName:"View "+name,openForDelete:!1,openForEdit:!1,viewData:item})}}),o&&e(T,{size:20,className:"cursor-pointer",onClick:()=>{l(item==null?void 0:item._id),i({}),s({displayName:"Edit "+name,openForDelete:!1,openForEdit:!0})}}),t&&e(V,{size:20,className:"cursor-pointer",onClick:()=>{s({displayName:"Delete "+name,openForDelete:!0,openForEdit:!1,id:item._id})}})]})}),$=({item:n,key:o})=>{var t;return e("td",{className:"td-border p-2",children:e("p",{className:"text-center line-clamp",children:((t=n[o])==null?void 0:t.toString())||"-"})})};function R({header:n,data:o,body:t,handleBtn:s,handleSubmit:l,formData:i,setFormData:h,setId:C,isApiSuccessfull:N,setIsApiSuccessfull:F}){const[w,d]=m.useState(!1),[r,x]=m.useState({id:null,viewData:null,displayName:"",openForDelete:!1,openForEdit:!1}),{pathname:v}=j(),f=v.split("/")[2],A=a=>{for(const[c,p]of Object.entries(a))x(u=>({...u,[c]:p}));d(!0)};return m.useEffect(()=>{N&&(d(!1),F(!1))},[N,F]),e("section",{className:"overflow-x-auto pb-2",children:E("table",{className:"table-width",children:[e("thead",{children:e("tr",{children:m.Children.toArray(n==null?void 0:n.map(a=>e("th",{className:"td-border p-2",children:a})))})}),e("tbody",{children:(o==null?void 0:o.length)>0?m.Children.toArray(o==null?void 0:o.map(a=>e("tr",{children:m.Children.toArray(t==null?void 0:t.map(({key:c,type:p,isViewEnabled:u,isEditEnabled:y,isDeleteEnabled:I})=>p===b.Table.Image?e(B,{item:a},c):p===b.Table.Action?e(U,{isViewEnabled:u,isEditEnabled:y,isDeleteEnabled:I,handleInput:A,setId:C,setFormData:h}):e($,{item:a},c)))}))):e("tr",{children:e("td",{colSpan:"100%",className:"td-border px-5 py-10",children:e(L,{})})})}),e(g,{open:w,setOpen:d,title:r==null?void 0:r.displayName,content:r!=null&&r.openForDelete?`Do you really want to delete this ${f}? This process cannot be undone.`:r!=null&&r.openForEdit?e(D,{submitForm:l,form:M[f],formData:i,setFormData:h}):e(D,{formData:r==null?void 0:r.viewData,form:_[f],ViewForm:!0}),handleBtn:r!=null&&r.openForDelete?()=>s(r==null?void 0:r.id):null})]})})}export{R as default};
