import{r as m,c as j,j as e,b as E,E as b}from"./index-3aafef44.js";import{F as M,V as _,A as z,M as T}from"./EditForm.Constant-3c9d17aa.js";import{A as V}from"./AiFillDelete-18687cc5.js";import{M as g,F as D}from"./index-2ede419b.js";import{N as k}from"./index-7352e71c.js";import{b as L,I as O}from"./index-13f30b14.js";import"./index-f20ea7eb.js";const B=({item:n,objkey:o})=>{var s,l,i;return e("td",{className:"td-border p-2",children:e("div",{className:"grid place-content-center",children:e(L.LazyLoadImage,{src:((s=n[o])==null?void 0:s.url)||(((l=n[o])==null?void 0:l.length)>0?(i=n[o][0])==null?void 0:i.url:""),alt:"Image",className:"h-10 w-10",effect:"blur",onError:({currentTarget:c})=>{c.onerror=null,c.src=O.NoImageAvailable}})})})},U=({isViewEnabled:n,isEditEnabled:o,isDeleteEnabled:s,handleInput:l,setId:i,setFormData:c,item:t})=>e("td",{className:"td-border p-2",children:E("div",{className:"flex gap-5 justify-center items-center",children:[n&&e(z,{size:20,className:"cursor-pointer",onClick:()=>{l({displayName:"View "+name,openForDelete:!1,openForEdit:!1,viewData:t})}}),o&&e(T,{size:20,className:"cursor-pointer",onClick:()=>{i(t==null?void 0:t._id),c({}),l({displayName:"Edit "+name,openForDelete:!1,openForEdit:!0})}}),s&&e(V,{size:20,className:"cursor-pointer",onClick:()=>{l({displayName:"Delete "+name,openForDelete:!0,openForEdit:!1,id:t._id})}})]})}),$=({item:n,objkey:o})=>{var s;return e("td",{className:"td-border p-2",children:e("p",{className:"text-center line-clamp",children:((s=n[o])==null?void 0:s.toString())||"-"})})};function R({header:n,data:o,body:s,handleBtn:l,handleSubmit:i,formData:c,setFormData:t,setId:C,isApiSuccessfull:N,setIsApiSuccessfull:F}){const[w,f]=m.useState(!1),[r,x]=m.useState({id:null,viewData:null,displayName:"",openForDelete:!1,openForEdit:!1}),{pathname:y}=j(),u=y.split("/")[2],v=a=>{for(const[p,d]of Object.entries(a))x(h=>({...h,[p]:d}));f(!0)};return m.useEffect(()=>{N&&(f(!1),F(!1))},[N,F]),e("section",{className:"overflow-x-auto pb-2",children:E("table",{className:"table-width",children:[e("thead",{children:e("tr",{children:m.Children.toArray(n==null?void 0:n.map(a=>e("th",{className:"td-border p-2",children:a})))})}),e("tbody",{children:(o==null?void 0:o.length)>0?m.Children.toArray(o==null?void 0:o.map(a=>e("tr",{children:m.Children.toArray(s==null?void 0:s.map(({key:p,type:d,isViewEnabled:h,isEditEnabled:A,isDeleteEnabled:I})=>d===b.Table.Image?e(B,{item:a,objkey:p}):d===b.Table.Action?e(U,{isViewEnabled:h,isEditEnabled:A,isDeleteEnabled:I,handleInput:v,setId:C,setFormData:t,item:a}):e($,{item:a,objkey:p})))}))):e("tr",{children:e("td",{colSpan:"100%",className:"td-border px-5 py-10",children:e(k,{})})})}),e(g,{open:w,setOpen:f,title:r==null?void 0:r.displayName,content:r!=null&&r.openForDelete?`Do you really want to delete this ${u}? This process cannot be undone.`:r!=null&&r.openForEdit?e(D,{submitForm:i,form:M[u],formData:c,setFormData:t}):e(D,{formData:r==null?void 0:r.viewData,form:_[u],ViewForm:!0}),handleBtn:r!=null&&r.openForDelete?()=>l(r==null?void 0:r.id):null})]})})}export{R as default};
