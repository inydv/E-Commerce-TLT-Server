import{r as n,u as F,l as G,c as I,a as N,E as e,G as f,b as j,F as B,j as o,m as V,D as H,n as M}from"./index-71041327.js";import{O as q,T as $}from"./index-a93b39b8.js";import{A as y}from"./TableHeader-071249c9.js";import{G as P,D as z,U as J}from"./Contact.Service-97918fb1.js";import{a as g,D as K,U as Q}from"./Order.Service-6aca5c5a.js";import{a as T,D as W,U as X}from"./Products.Service-5fc5c17d.js";import{e as Y}from"./index-1c3bfd3c.js";const Z=[{type:"image",key:"avatar"},{type:"text",key:"username"},{type:"text",key:"email"},{type:"text",key:"phone"},{type:"text",key:"gender"},{type:"text",key:"role"},{type:"text",key:"isVerified"},{type:"Action",isViewEnabled:!1,isEditEnabled:!0,isDeleteEnabled:!1}],ee=[{type:"image",key:"images"},{type:"text",key:"name"},{type:"text",key:"category"},{type:"text",key:"subCategories"},{type:"text",key:"price"},{type:"text",key:"quantity"},{type:"text",key:"ratings"},{type:"Action",isViewEnabled:!0,isEditEnabled:!0,isDeleteEnabled:!0}],te=[{type:"text",key:"firstname"},{type:"text",key:"lastname"},{type:"text",key:"email"},{type:"text",key:"status"},{type:"text",key:"subject"},{type:"text",key:"message"},{type:"Action",isViewEnabled:!0,isEditEnabled:!0,isDeleteEnabled:!1}],A={user:Z,product:ee,contact:te};function oe(){const[S,m]=n.useState(null),[D,k]=n.useState(null),[R,E]=n.useState(null),[d,b]=n.useState({}),[p,C]=n.useState(null),[L,x]=n.useState(!1),[U,O]=n.useState(0),h=F(),[i]=G(),{pathname:t}=I(),{user:c}=N(),w=a=>{a>1&&a<Math.ceil(U/8)&&h({search:`?${V({page:a})}`})},s=n.useCallback(async a=>{var u;const{data:l}=await a;l&&l.SUCCESS&&(k((u=l.DATA)==null?void 0:u.LISTS),O(l.DATA.NUMBER_OF_FILTERED_LIST))},[]),r=async(a,l)=>{const{data:u}=await a;u&&u.SUCCESS&&(l(),x(!0))},_=a=>{t.includes(e.Patname.User)?r(H(a),()=>s(f())):t.includes(e.Patname.Product)?r(W(a),()=>s(T({}))):t.includes(e.Patname.Order)?r(K(a),()=>s(g())):t.includes(e.Patname.Contact)&&r(z(a),()=>s(P()))},v=a=>{a.preventDefault(),t.includes(e.Patname.User)?r(M(p,d),()=>s(f())):t.includes(e.Patname.Product)?r(X(p,d),()=>s(T({page:+i.get("page")||1,resultPerPage:15,created_by:c&&c.role===e.UserRole.Admin?"":c._id}))):t.includes(e.Patname.Order)?r(Q(p,d),()=>s(g())):t.includes(e.Patname.Contact)&&r(J(p,d),()=>s(P()))};return n.useEffect(()=>{window.scrollTo(0,0),t.includes(e.Patname.User)?(m(y.user),E(A.user),s(f({page:+i.get("page")||1}))):t.includes(e.Patname.Product)?(m(y.product),E(A.product),s(T({page:+i.get("page")||1,resultPerPage:15,created_by:c&&c.role===e.UserRole.Admin?"":c._id}))):t.includes(e.Patname.Order)?(m(y.order),s(g({page:+i.get("page")||1}))):t.includes(e.Patname.Contact)&&(m(y.contact),E(A.contact),s(P({page:+i.get("page")||1})))},[s,t,i,c]),j(B,{children:[t.includes(e.Patname.Order)?o(q,{header:S,orders:D,isAdmin:!0}):o($,{header:S,data:D,body:R,handleBtn:_,handleSubmit:v,setFormData:b,formData:d,setId:C,isApiSuccessfull:L,setIsApiSuccessfull:x}),t.includes(e.Patname.Product)?o("div",{className:"pt-4",children:o("p",{className:"text-red-600 text-sm font-medium text-end",children:"** Please Refresh After Adding Products **"})}):"",o("div",{className:"grid place-items-center mt-5",children:o(Y,{handlePagination:w,filteredResult:U,page:+i.get("page")||1,resultPerPage:15})})]})}export{oe as default};
