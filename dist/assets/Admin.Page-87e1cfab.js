import{r as n,u as F,l as G,c as I,a as N,E as e,G as P,b as j,F as B,j as d,m as V,D as H,n as M}from"./index-59e93b5a.js";import{O as q,T as $}from"./index-04e641ac.js";import{A as y}from"./TableHeader-071249c9.js";import{G as g,D as z,U as J}from"./Contact.Service-2dc5a03a.js";import{a as T,D as K,U as Q}from"./Order.Service-f90614e0.js";import{a as A,D as W,U as X}from"./Products.Service-d182c129.js";import{e as Y}from"./index-3758a81c.js";const Z=[{type:"image",key:"avatar"},{type:"text",key:"username"},{type:"text",key:"email"},{type:"text",key:"phone"},{type:"text",key:"gender"},{type:"text",key:"role"},{type:"text",key:"isVerified"},{type:"Action",isViewEnabled:!1,isEditEnabled:!0,isDeleteEnabled:!1}],ee=[{type:"image",key:"images"},{type:"text",key:"name"},{type:"text",key:"category"},{type:"text",key:"subCategories"},{type:"text",key:"price"},{type:"text",key:"quantity"},{type:"text",key:"ratings"},{type:"Action",isViewEnabled:!0,isEditEnabled:!0,isDeleteEnabled:!0}],te=[{type:"text",key:"firstname"},{type:"text",key:"lastname"},{type:"text",key:"email"},{type:"text",key:"status"},{type:"text",key:"subject"},{type:"text",key:"message"},{type:"Action",isViewEnabled:!0,isEditEnabled:!0,isDeleteEnabled:!1}],S={user:Z,product:ee,contact:te};function oe(){const[D,m]=n.useState(null),[x,L]=n.useState(null),[O,E]=n.useState(null),[l,U]=n.useState({}),[p,k]=n.useState(null),[R,f]=n.useState(!1),[b,h]=n.useState(0),w=F(),[i]=G(),{pathname:t}=I(),{user:c}=N(),_=a=>{a>1&&a<Math.ceil(b/8)&&w({search:`?${V({page:a})}`})},s=n.useCallback(async a=>{var u;const{data:o}=await a;o&&o.SUCCESS&&(L((u=o.DATA)==null?void 0:u.LISTS),h(o.DATA.NUMBER_OF_FILTERED_LIST))},[]),r=async(a,o)=>{const{data:u}=await a;u&&u.SUCCESS&&(o(),f(!0))},v=a=>{t.includes(e.Patname.User)?r(H(a),()=>s(P({}))):t.includes(e.Patname.Product)?r(W(a),()=>s(A({}))):t.includes(e.Patname.Order)?r(K(a),()=>s(T({}))):t.includes(e.Patname.Contact)&&r(z(a),()=>s(g({})))},C=a=>{a.preventDefault(),t.includes(e.Patname.User)?r(M(p,l),()=>s(P({}))):t.includes(e.Patname.Product)?r(X(p,l),()=>s(A({page:+i.get("page")||1,resultPerPage:15,created_by:c&&c.role===e.UserRole.Admin?"":c._id}))):t.includes(e.Patname.Order)?r(Q(p,l),()=>s(T({}))):t.includes(e.Patname.Contact)&&r(J(p,l),()=>s(g({})))};return n.useEffect(()=>{window.scrollTo(0,0),t.includes(e.Patname.User)?(m(y.user),E(S.user),s(P({page:+i.get("page")||1}))):t.includes(e.Patname.Product)?(m(y.product),E(S.product),s(A({page:+i.get("page")||1,resultPerPage:15,created_by:c&&c.role===e.UserRole.Admin?"":c._id}))):t.includes(e.Patname.Order)?(m(y.order),s(T({page:+i.get("page")||1}))):t.includes(e.Patname.Contact)&&(m(y.contact),E(S.contact),s(g({page:+i.get("page")||1})))},[s,t,i,c]),j(B,{children:[t.includes(e.Patname.Order)?d(q,{header:D,orders:x,isAdmin:!0,handleSubmit:C,setFormData:U,formData:l,isApiSuccessfull:R,setIsApiSuccessfull:f,setId:k}):d($,{header:D,data:x,body:O,handleBtn:v,handleSubmit:C,setFormData:U,formData:l,setId:k,isApiSuccessfull:R,setIsApiSuccessfull:f}),t.includes(e.Patname.Product)?d("div",{className:"pt-4",children:d("p",{className:"text-red-600 text-sm font-medium text-end",children:"** Please Refresh After Adding Products **"})}):"",d("div",{className:"grid place-items-center mt-5",children:d(Y,{handlePagination:_,filteredResult:b,page:+i.get("page")||1,resultPerPage:15})})]})}export{oe as default};
