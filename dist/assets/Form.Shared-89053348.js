import{r as g,b as x,j as e,E as v}from"./index-12ad110b.js";import{b as T,I as q}from"./index-5aa1a290.js";import{D as P}from"./Date.Pipe-a7fb7a4a.js";import{R as k}from"./RSConversion.Pipe-ac2552a8.js";const L=g.memo(({legend:p,children_prop:c,formData:u,handleInput:s})=>x("fieldset",{className:"flex justify-between",children:[e("legend",{className:"text-lg font-semibold",children:p}),g.Children.toArray(c==null?void 0:c.map(({type:a,className:n,placeholder:t,autoFocus:i,name:r,label:l,required:o})=>x("div",{className:"w-[45%]",children:[e("input",{type:a,className:n,placeholder:t,autoFocus:i||!1,required:o||!0,name:r,value:u[r]||"",onChange:m=>s(m)}),e("div",{className:"text-base",children:l})]})))]})),B=g.memo(({containerClass:p,labelClass:c,label:u,className:s,placeholder:a,required:n,autoFocus:t,rows:i,name:r,formData:l,handleInput:o})=>x("div",{className:p,children:[e("label",{className:c,children:u}),e("textarea",{className:s,placeholder:a,required:n||!1,autoFocus:t||!1,rows:i,name:r,value:l[r]||"",onChange:m=>o(m)})]})),U=g.memo(({containerClass:p,labelClass:c,label:u,name:s,formData:a,className:n,handleInput:t,options:i})=>x("div",{className:p,children:[e("label",{className:c,children:u}),x("select",{name:s,value:a[s]||"",className:n,onChange:r=>t(r),children:[e("option",{hidden:!0,value:"",children:"Select"}),g.Children.toArray(i==null?void 0:i.map(({name:r,value:l})=>e("option",{value:l,children:r})))]})]})),z=g.memo(({containerClass:p,labelClass:c,label:u,imageInput:s,type:a,name:n,multiple:t,handleImage:i,isView:r,onImageSelectButtonClicked:l,formData:o})=>{var m;return x("div",{className:p,children:[e("label",{className:c,children:u}),e("input",{ref:s,type:a,name:n,multiple:t,accept:"image/*",className:"hidden",onChange:d=>i(d)}),x("div",{className:"flex gap-2 overflow-x-scroll max-w-[300px] w-full items-center pb-2",children:[!r&&e("button",{className:"aspect-square h-16 w-16 border border-gray text-3xl",onClick:d=>l(d),children:"+"}),g.Children.toArray(o&&((m=o[n])==null?void 0:m.map(d=>e("span",{className:"aspect-square h-16 w-16 border border-gray",children:e(T.LazyLoadImage,{src:(d==null?void 0:d.url)||d,alt:"Product Image",className:"w-full h-full",effect:"blur",onError:({currentTarget:h})=>{h.onerror=null,h.src=q.NoImageAvailable}})}))))]})]})}),V=g.memo(({containerClass:p,labelClass:c,label:u,isView:s,formData:a,textType:n,name:t,name2:i,type:r,className:l,placeholder:o,required:m,autoFocus:d,handleInput:h})=>x("div",{className:p,children:[e("label",{className:c,children:u}),s?e("p",{className:"mb-4 text-sm",children:a&&(n===v.View.Date?P(a[t]):n===v.View.Price?k(a[t]):i?a[t][i]:a[t])}):e("input",{type:r,className:l,placeholder:o,required:m||!1,autoFocus:d||!1,name:t,value:a[t]||"",onChange:f=>h(f)})]}));function O({submitForm:p,setFormData:c,form:u,formData:s,ViewForm:a=!1}){const n=g.useRef(null),t=l=>{l.preventDefault(),n.current.click()},i=async l=>{const o=Array.from(l.target.files),m=[],d=o.map(h=>new Promise(f=>{const N=new FileReader;N.onload=()=>{N.readyState===2&&(m.push(N.result),f())},N.readAsDataURL(h)}));await Promise.all(d),c(h=>({...h,[l.target.name]:m}))},r=l=>{c(o=>({...o,[l.target.name]:l.target.value}))};return x("form",{onSubmit:l=>p(l),className:"max-w-[800px] min-w-[250px] sm:min-w-[300px]",children:[g.Children.toArray(u==null?void 0:u.map(({isView:l,isFieldset:o,legend:m,children:d,tagType:h,type:f,className:N,placeholder:F,name:b,name2:C,label:w,rows:M,required:S,autoFocus:A,options:j,multiple:E,labelClass:y,containerClass:I,textType:R})=>o?e(L,{legend:m,children_prop:d,formData:s,handleInput:r}):h===v.FormTagType.TextArea?e(B,{containerClass:I,labelClass:y,label:w,className:N,placeholder:F,required:S,autoFocus:A,rows:M,name:b,formData:s,handleInput:r}):h===v.FormTagType.Select?e(U,{containerClass:I,labelClass:y,label:w,name:b,formData:s,className:N,handleInput:r,options:j}):h===v.FormTagType.File?e(z,{containerClass:I,labelClass:y,label:w,imageInput:n,type:f,name:b,multiple:E,handleImage:i,isView:l,onImageSelectButtonClicked:t,formData:s}):e(V,{containerClass:I,labelClass:y,label:w,isView:l,formData:s,textType:R,name:b,name2:C,type:f,className:N,placeholder:F,required:S,autoFocus:A,handleInput:r}))),!a&&e("div",{className:"flex justify-end mt-5",children:e("button",{className:"primary-button",type:"submit",children:"SUBMIT"})})]})}export{O as default};
